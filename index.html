<html>
<head>
	<meta charset="UTF-8">
	<title>Calculadora de RSG</title>
	<link rel="stylesheet" href="css/bootstrap.min.css">
	<link href='http://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>

	<link rel="stylesheet" href="css/style.css">
</head>
<body>
	<header>
		<div class="container">
			<div class="row">
				<div class="text-center">
					<img src="img/calc.png" style='width: 75px;'>
					<h1>Calculadora de RSG</h1>
				</div>
			</div>
		</div>
	</header>
	<div class="container">
		<div class="row">
			<div id="sheepItForm" class='col-md-6 col-md-offset-3'>
				<div id="sheepItForm_controls" class="text-right" style='padding: 10px;'>
				    	<div id="sheepItForm_add"><a class="btn btn-primary btn-xs"><span class='glyphicon glyphicon-plus'></span> Adicionar Disciplina</a></div>
				</div>
				<div id="sheepItForm_template" class="form-inline" style="padding: 5px;">
					<div class="text-center">
						<div class="disciplina">Disciplina #<span id="sheepItForm_label"></span></div>
					
					<select id='conceito_#index#' name='conceito_#index#' class='form-control'>
						<option value=''>-- Conceito --</option>
						<option value='5'>A</option>
						<option value='4'>B</option>
						<option value='3'>C</option>
						<option value='2'>D</option>
						<option value='1'>E</option>
						<option value='0'>F</option>
					</select>
					<select id='carga_#index#' name='carga_#index#' class='form-control'>
						<option value=''>-- Carga Horária --</option>
						<option value='15'>15h</option>
						<option value='30'>30h</option>
						<option value='45'>45h</option>
						<option value='60'>60h</option>
						<option value='75'>75h</option>
						<option value='90'>90h</option>
						<option value='105'>105h</option>
						<option value='120'>120h</option>
						<option value='135'>135h</option>
						<option value='150'>150h</option>
						<option value='165'>165h</option>
						<option value='180'>180h</option>
					</select>
					<a id="sheepItForm_remove_current" class='btn btn-danger btn-sm'>
				      <span class='glyphicon glyphicon-trash'></span>
				    </a>
				    </div>
				</div>
				<div id="sheepItForm_noforms_template">Nenhuma disciplina.</div>
				
				<div class="text-center" style='padding: 10px;'>
					<a id='calcular' class="btn btn-success btn-lg"><span class='glyphicon glyphicon-ok'></span> Calcular</a>
				</div>
				<div class="text-center" id='resultado'></div>
				<div class='facebook'>
					<a href="http://www.facebook.com/sharer/sharer.php?s=100&amp;p[url]=http://rsg.luizpedone.com/&amp;p[images][0]=&amp;p[title]=Calculadora de RSG&amp;p[summary]=Calcule o seu RSG de maneira simples e ágil." target="alt"><span class='glyphicon glyphicon-share'></span> Compartilhar no Facebook</a>
				</div>
			</div>
		</div>
	</div>
	<footer>
		<div class="container">
			<div class="row">
				<div class="text-center">
					Desenvolvido por <a href="http://luizpedone.com/">Luiz Felipe Pedone</a>.
				</div>
			</div>
		</div>
	</footer>
	<!--  Scripts -->
	<script type="text/javascript" src="js/jquery-1.10.2.min.js"></script>
	<script src="js/bootstrap.min.js"></script>
	<script type="text/javascript" src="js/jquery.sheepItPluginLastVersion.js"></script>
	<script type="text/javascript">
		$(document).ready(function() {
		    var sheepItForm = $('#sheepItForm').sheepIt({
		        separator: '',
		        allowRemoveLast: true,
		        allowRemoveCurrent: true,
		        allowRemoveAll: false,
		        allowAdd: true,
		        allowAddN: false,
		        maxFormsCount: 15,
		        minFormsCount: 1,
		        iniFormsCount: 3
		    });
		    $('#calcular').click(function(){
				forms = sheepItForm.getForms();
				conceitos = 0;
				creditos = 0;
				multiplicador = 0;
				for (x in forms) {
			        creditos = parseInt($('#carga_'+x).val()) + creditos;
			        multiplicador = parseInt($('#conceito_'+x).val()) * parseInt($('#carga_'+x).val()) + multiplicador;
			    }
			    total = multiplicador / creditos;

			    if (total) {
					$('#resultado').html('<div class="alert alert-success">O seu RSG é: <h3>' + parseFloat(total).toFixed(1) + '</h3></div>');
				}
				else {
					$('#resultado').html('<div class="alert alert-danger">Você deixou algum campo vazio. Preencha-o ou remova a disciplina para realizar o cáculo.</div>');
				}
			}); 	
		});
	</script>
	<script>
	  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	  })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

	  ga('create', 'UA-29298388-3', 'luizpedone.com');
	  ga('send', 'pageview');

	</script>
</body>
</html>